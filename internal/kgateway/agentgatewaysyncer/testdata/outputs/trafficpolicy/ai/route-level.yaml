Backends:
- ai:
    providerGroups:
    - providers:
      - name: backend
        openai:
          model: gpt-4o-mini
  name: default/openai
Binds:
- key: 8080/default/example-gateway
  port: 8080
Listeners:
- bindKey: 8080/default/example-gateway
  gatewayName: default/example-gateway
  key: default/example-gateway.http
  name: http
  protocol: HTTP
Policies:
- backend:
    auth:
      key:
        secret: mysecretkey
  name: auth-default/openai-backend
  target:
    subBackend: default/openai/backend
- backend:
    ai:
      defaults:
        array_int: '[1,2,3]'
        array_string: '["one","two","three"]'
        frequency_penalty: "0.1"
        presence_penalty: "0.1"
        string: '"some_string"'
        top_p: "0.95"
      modelAliases:
        default: gpt-4o-mini
        fast: gpt-3.5-turbo
        smart: gpt-4-turbo
      overrides:
        max_tokens: "2000"
        temperature: "0.5"
      promptGuard: {}
      prompts:
        append:
        - content: Please provide a concise response.
          role: user
        prepend:
        - content: You are a helpful assistant. Always be polite and professional.
          role: system
        - content: Remember to follow company guidelines.
          role: system
  name: backend/default/ai-policy:ai:default/openai-test
  target:
    route: default/openai-test
Routes:
- backends:
  - backend:
      backend: default/openai
    weight: 1
  key: default/openai-test.0.0.http
  listenerKey: default/example-gateway.http
  matches:
  - path:
      pathPrefix: /v1/chat/completions
  routeName: default/openai-test
